\section{Sensitivity analysis of Ikeda's
method}\label{sensitivity-analysis-of-ikedas-method}

Ikeda's method divides roll damping into five damping components:

\begin{longtable}[]{@{}ll@{}}
\toprule
Symbol & Component\tabularnewline
\midrule
\endhead
\(B_F\) & skin friction\tabularnewline
\(B_E\) & eddy generation\tabularnewline
\(B_L\) & hull lift\tabularnewline
\(B_W\) & roll wave generation\tabularnewline
\(B_{BK}\) & bilge keels\tabularnewline
\bottomrule
\end{longtable}

And the total damping is written as the sum of these components,

\begin{equation}
B_{44} = B_F + B_E + B_L + B_W + B_{BK}
\end{equation}

Due to the absence of bilge keels for the KVLCC2 the \(B_{BK}\) does not
need to be included. This means that remaining components will get all
the attention in this paper. Ikeda has in a series of papers proposed
semi empirical formulas for the viscous damping components: \(B_F\),
\(B_E\) and \(B_L\) which have been implemented for this study. The wave
damping \(B_W\) is calculated using a potential flow strip theory code
or a more advance potential flow code such as the FNPF method later
described as the Hybrid method in this paper.

Ikeda produced many papers about various aspects of roll damping where
most of them are translations from original manuscripts in Japanese.
Summaries of this method \cite{7505983/FB64RGPF},
\cite{7505983/KAKIM2E2} and \cite{7505983/UGK6YEVD} has been used
together with the original papers to understand how the method should be
implemented. Falzarano says that the Himeno report and associated
computer programs are well-known to have numerous typographical errors.
When looking at these resources it becomes evident that there is some
variety on how the method should be implemented, regardless if this is
due to typographical errors or being variations of the actual method.
The implementation was therefore a fairly time consuming task where
various alternative implementations needed to be compared and
investigated.

The scale effects of roll damping is considered to mainly be associated
with the sking friction component \(B_F\) \cite{7505983/FB64RGPF}. This
component makes a very small part of the total damping for the full
scale ship, but a substantial part for the model scale ship used in this
study. This is therefore the only component in ikedas method that needs
to be recalculated when the scale changes.

For the skin friction damping \(B_F\) implementation was made according
to the description in \cite{7505983/UGK6YEVD}. With the difference that
the actual wetted surface \(S\) was used instead of the proposed
estimation formula.

The hull lift damping \(B_L\) is calculated according to
\cite{7505983/937PN5DT} and implemented as described in
\cite{7505983/UYUAYY7E}. Journe added a linear interpolation to the
values for \(\kappa\) from the Ikeda paper.

A schematic graph of how the parameters vary with speed and roll angle
amplitude \(\phi_a\) in the current model scale is created with the
current implementation of Ikeda as shown below. The roll amplitude is
first varied at zero speed (left). The speed is then varied from zero to
the froude number corresponding to 15.5 knots in full scale for the
KVLCC2 with a roll angle amplitude of 10 degrees (middle). The amplitude
is then gradually reduced at the highest froude number down to zero
again (right).

Assumming that the trends are correct in Ikeda's method it can be noted
from the amplitude variations at zero knots (left): * \(B_W\) does not
change with amplitude, implying that they only contribute to the linear
part (\(B_1\)) of the damping. (The \(B_W\) was calculated with strip
theory here) * \(B_F\) has a small amplitude dependancy but the linear
part is dominating. * \(B_E\) has a large amplitude depandancy and only
contributes to the quadratic damping (\(B_2\))\cite{7505983/4AFVVGNT}.

Looking at the speed variation (middle): * At low speed \(B_F\) and
\(B_E\) are the dominating components. (Note that this ship does not
have bilge keels, as that would otherwise also be a large component). *
At high speed the \(B_E\) has almost disappeared and is replaced by the
\(B_L\) which is now the dominating component. * \(B_F\) has a large
contribution for all speeds (at model scale).

Looking at the roll amplitude variation (right): * (Please note that
this x-axis is revered in this graph) * \(B_L\) does not change with
amplitude, implying that they only contribute to the linear part
(\(B_1\)) of the damping. * \(B_F\) has a small amplitude dependancy but
the linear part is dominating.

    \begin{figure}
        \begin{center}\adjustimage{max size={0.9\linewidth}{0.4\paperheight}}{figures/ikeda_generic.pdf}\end{center}
        \caption{Ikeda generic}
        \label{fig:ikeda_generic}
    \end{figure}
    
    When the damping predicted with Ikeda was compared with corresponding
model test it was found that the results were in poor agreement for the
zero speed case but quite good results at speed. This was pointing
towards the eddy damping being incorrect in the current implementation
of Ikeda's method. A thurough investigation of the eddy damping
prediction was therefore conducted which is described in the next
section.

    \subsection{Eddy damping}\label{eddy-damping}

The eddy damping is due to eddies generated around the ship hull during
the roll motion. Strong eddies occures at sharp edges in the geometry.
Below is an illustration of how the eddy damping changes with bilge
radius to beam ratio as predicted with the current implementation of the
method. It seems that the damping approaches zero very fast as the bilge
radius increase. So having just a small rounding of the bilge, compared
to a square section, will have a great impact on the eddy roll damping.

    \begin{figure}
        \begin{center}\adjustimage{max size={0.9\linewidth}{0.4\paperheight}}{figures/eddy_sigma.pdf}\end{center}
        \caption{Eddy sigma}
        \label{fig:eddy_sigma}
    \end{figure}
    
    Ikeda made experiements on a number of two-dimensional cylinders with
various sections \cite{7505983/4AFVVGNT}. Ikeda found that the eddy
damping per unit length of these sections can be expressed as:
 
            
    
    \begin{equation}
B'_{E0} = \frac{4 C_{r} T_{s}^{4} \omega \phi_{a} \rho}{3 \pi}
\label{eq:equation}
\end{equation}

    

    The total eddy damping can be obtained as an integral over the sections
along the ship hull:
 
            
    
    \begin{equation}
B_{E0} = \int\limits_{AP}^{FP} B'_{E0}\, dx
\label{eq:equation}
\end{equation}

    

    It can be seen from the section damping equation above that the eddy
damping increases linearly with both roll amplitude and frequency, and
that it will go to zero for small amplitudes and frequencies, which
means that it is only included in the quadratic damping term (\(B_2\)).
Ikeda expressed the \(C_r\) coefficient to be entirely depending on the
hull form. Ikeda developed a regression formula for \(C_r\) based on his
experiments, which is used in the prediction method. The authors of this
paper have tried to implement this method according to the description
in the original paper \cite{7505983/4AFVVGNT} but have failed to
reproduce the results from Ikeda's experiments exactly. Other resources
such as \cite{7505983/FB64RGPF} and \cite{7505983/KAKIM2E2} have also
been used without success.

Instead a new regression for \(C_r\) was made on the experimental
results from \cite{7505983/4AFVVGNT}. The experimental results were
collected by the authors using manual digitalization
\cite{7505983/RXYIE6UW}.

    Where \(OG/d=0\) for all sections. For the Series60 sections (G-K) the
bilge radius \(R_b\) was estimated using the following estimation,
proposed by the authors:
 
            
    
    \begin{equation}
R_{b} = \frac{\sqrt{B_{s} T_{s} \left(1 - \sigma\right)}}{\sqrt{1 - \frac{\pi}{4}}}
\label{eq:equation}
\end{equation}

    

    The nondimensional damping is expressed in \cite{7505983/4AFVVGNT} using
a star (*) sign. The reason seams to be that Ikeda wanted to signal that
this damping only has the quadratic part of the damping. This stared
damping are defined as:
 
            
    
    \begin{equation}
B_{E0 HAT} = \frac{8 B_{E star hat}}{3 \pi}
\label{eq:equation}
\end{equation}

    

    \(\hat{B_E}^*\) and \((B_W+B_F)^*\) are the experimental values taken
from \cite{7505983/4AFVVGNT}. Which add up to the total damping:

    \(\hat{B^*} = \hat{B^*_E} + (B_W+B_F)^*\)

    The Lewis section coefficients were calculated as:
 
            
    
    \begin{equation}
D_{1} = - \frac{4 H_{0}^{2} \sigma}{\pi H_{0}^{2} \\ + 2 \pi H_{0} \\ + \pi} \\ + \frac{H_{0}^{2}}{H_{0}^{2} \\ + 2 H_{0} \\ + 1} \\ + \frac{8 H_{0} \sigma}{\pi H_{0}^{2} \\ + 2 \pi H_{0} \\ + \pi} - \frac{2 H_{0}}{H_{0}^{2} \\ + 2 H_{0} \\ + 1} \\ + \frac{4 \sigma}{\pi} - \frac{4 \sigma}{\pi H_{0}^{2} \\ + 2 \pi H_{0} \\ + \pi} \\ + 3 \\ + \frac{1}{H_{0}^{2} \\ + 2 H_{0} \\ + 1}
\label{eq:equation}
\end{equation}

    
 
            
    
    \begin{equation}
a_{3} = \frac{- D_{1} + \sqrt{9 - 2 D_{1}} + 3}{D_{1}}
\label{eq:equation}
\end{equation}

    
 
            
    
    \begin{equation}
a_{1} = \frac{\left(H_{0} - 1\right) \left(a_{3} + 1\right)}{H_{0} + 1}
\label{eq:equation}
\end{equation}

    
 
            
    
    \begin{equation}
B_{E0 HAT} = \frac{8 B_{E star hat}}{3 \pi}
\label{eq:equation}
\end{equation}

    

    And the \(C_r\) was calculated from the experiments as:
 
            
    
    \begin{equation}
C_{r} = \frac{3 \pi B_{E0 HAT} B_{s} T_{s} beam^{2} \sigma}{4 T^{4} \omega_{hat} \phi_{a}}
\label{eq:equation}
\end{equation}

    

    Instead of trying to invent some very advanced mathematical expression
for the \(C_r\) regression a simple decision tree model was instead
fitted to the \(C_r\) data from Ikeda's experiments. The fitted decision
tree is illustrated in the figure below:

    \begin{figure}
        \begin{center}\adjustimage{max size={0.9\linewidth}{0.4\paperheight}}{figures/decision_tree.pdf}\end{center}
        \caption{Decision tree}
        \label{fig:decision_tree}
    \end{figure}
    
    Eventhoug this tree is so simple it has very good accuracy in
reproducing the results from Ikedas experiments (\(r^2=0.996)\). The
\(C_r\) was predicted with Ikeda and the alternative decision tree model
for the KVLCC2 with section data according to the table below. A
comparison is shown in the figure below, where it can be seen that the
Ikeda implementation predicts much higher \(C_r\) between station 8 and
14, where the bilge radius is also very small.

    \begin{figure}
        \begin{center}\adjustimage{max size={0.9\linewidth}{0.4\paperheight}}{figures/kvlcc2_eddy.pdf}\end{center}
        \caption{KVLCC2 eddy}
        \label{fig:kvlcc2_eddy}
    \end{figure}
    
    These two alternative ways to calculate the eddy damping will be further
discussed below, when comparing the total predicted damping with
corresponding results from the model tests.

    \subsection{Time and frequency domain}\label{time-and-frequency-domain}

Ikeda's method is defined in the frequency domain, where the damping is
expressed as a function of roll angle amplitude \(\phi_a\) and roll
angle frequency \(\omega\). The equivalent linear damping \(B_e\) (not
to confuse with eddy damping \(B_E\)) is a way to convert the frequency
domain damping into time domain damping \cite{7505983/FB64RGPF}, so that
time domain roll simulations can be conducted with results from Ikeda's
method. The most general way to determine \(B_e\) is to assume that the
energy loss due to damping during a half cycle of roll is the same when
nonlinear and linear dampings are used \cite{7505983/RYUBZITQ}. The
\(B_e\) can then be calculated as a Fourier series expansion of the
damping model, which in the case of a cubic model yields as:
 
            
    
    \begin{equation}
B_{e} = B_{1} + \frac{8 B_{2} \omega_{0} \phi_{a}}{3 \pi} + 0.75 B_{3} \omega_{0}^{2} \phi_{a}^{2}
\label{eq:equation}
\end{equation}

    

    In the case of a quadratic model \(B_3=0\) and for the linear model
\(B_1\) and \(B_e\) are the same thing.

    The expression above gives a relation between the frequency domain
quantities \(\phi_a\), \(\omega\) and the time domain quantities
\(B_1\), \(B_2\) and \(B_3\) which can be used to obtain the latter ones
from the Ikeda's method. This can be done by calculating the damping
with Ikeda's method for a variation of frequencies and amplitudes and
then fit the above expression to this damping and obtain \(B_1\),
\(B_2\) and \(B_3\):

\[B^{Ikeda}(\phi_a, \omega) = B_e(\phi_a, \omega)\]

In the case of a roll decay test \(\phi_a\) is the only parameter being
varied. In order to verify this approach, an alternative method using
the logaritmic decrement \cite{7505983/BYNJ8CFG} to obtaining the
frequency domain quantities from time series result is also used.

This method is investigated on simulation results with a quadratic
model: \(B_1 = 0.05\), \(B_2 = 0.9\), \(A_{44} = 1.0\), \(C_1 = 5.0\).
The peak values, being the only known amplitudes from this signal, is
shown in the figure below.

    \begin{figure}
        \begin{center}\adjustimage{max size={0.9\linewidth}{0.4\paperheight}}{figures/peaks.pdf}\end{center}
        \caption{Peaks}
        \label{fig:peaks}
    \end{figure}
    
    The decrement is calculated as the ratio between every other peak, so
that negative and positive roll peaks are separated. This decrement can
be calulated for each peak:
\[ \Delta_n = \frac{\phi_{a,n}}{\phi_{a,n+2}}\]

    The nondimensional \(\zeta\) damping coefficient for each peak can be
calculated from the logaritimic decrement:

    \[\zeta_n = \frac{\delta_n}{2\pi}=\frac{ln(\Delta_n)}{2\pi}\]

    The dimensional damping \(B_n\) (Nm*s) can be then be obtained:
 
            
    
    \begin{equation}
B = 2 A_{44} \omega_{0} \zeta
\label{eq:equation}
\end{equation}

    

    So the damping can be obtained for each oscillation this way but it is
not obvious which of the roll amplitudes these dampings correspond to.
Four different choices were tried, associating damping \(B_n\) with the
following amplitudes: * A : \(\phi_n\) * B : \(\phi_{n+1}\) * C :
\(\phi_{n+2}\) * D : \((\phi_n + \phi_{n+1} + \phi_{n+2})/3\)

    \begin{figure}
        \begin{center}\adjustimage{max size={0.9\linewidth}{0.4\paperheight}}{figures/logarithmic_decrement.pdf}\end{center}
        \caption{Logarithmic decrement}
        \label{fig:logarithmic_decrement}
    \end{figure}
    
    Taking the mean value of peak n and the following two peaks (alt.D) seem
to be the approach that best matches the \(B_e\) (predicted using the
linearized equivalent damping method). The linearized equivalent damping
method therefore seems to be the best way to convert \(B_1\), \(B_2\),
\(B_3\) to frequency domain, considering the difficulties with the
logaritmic decrement method as described above. The only time linearized
equivalent damping method has not been used in this paper, is when
damping at individual peaks from a time signal should be converted to
frequency domain.

    \subsection{Proposed hybrid method}\label{proposed-hybrid-method}

\subsubsection{Proposed model}\label{proposed-model}

A Hybrid method has been developed where wave damping \(B_W\) obtained
with FNPF as described in the previous section is used together with the
visous damping contributions from Ikeda's method. The wave damping was
determined by using the PIT described above on results from FNPF
simulations of roll decay tests.

\subsubsection{FNPF method}\label{fnpf-method}

    